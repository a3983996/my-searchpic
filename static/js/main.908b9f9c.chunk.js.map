{"version":3,"sources":["components/Nav.js","components/Footer.js","components/Picture.js","components/Search.js","pages/Homepage.js","pages/About.js","App.js","index.js"],"names":["Nav","to","Footer","Picture","data","className","photographer","src","large","alt","target","rel","href","Search","search","setInput","onChange","e","value","type","onClick","Homepage","useState","input","setTarget","setData","page","setPage","auth","intailUrl","queryUrl","url","a","fetch","method","headers","Authorization","dataFetch","json","parsedData","photos","loadmore","concat","useEffect","style","minHeight","map","d","uuidv4","About","display","justifyContent","alignItems","color","App","path","ReactDom","render","StrictMode","document","querySelector"],"mappings":"wLAkBeA,EAfH,WACV,OACE,8BACE,+BACE,6BACE,cAAC,IAAD,CAAMC,GAAG,IAAT,4BAEF,6BACE,cAAC,IAAD,CAAMA,GAAG,SAAT,kCCDKC,EARA,WACb,OACE,iCACE,2D,+BCWSC,EAdC,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACjB,OACE,sBAAKC,UAAU,UAAf,UACE,4BAAID,EAAKE,eACT,qBAAKD,UAAU,eAAf,SACE,qBAAKE,IAAKH,EAAKG,IAAIC,MAAOC,IAAI,OAEhC,mBAAGC,OAAO,SAASC,IAAI,aAAaC,KAAMR,EAAKG,IAAIC,MAAnD,0CCMSK,EAbA,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,SAKxB,OACE,sBAAKV,UAAU,SAAf,UACE,uBAAOW,SANM,SAACC,GAChBF,EAASE,EAAEP,OAAOQ,QAKWC,KAAK,SAChC,wBAAQC,QAASN,EAAjB,8B,QC2ESO,EAhFE,WACf,MAAwBC,mBAAS,IAAjC,mBAAKC,EAAL,KAAYR,EAAZ,KACA,EAA0BO,mBAAS,IAAnC,mBAAKZ,EAAL,KAAac,EAAb,KACA,EAAsBF,mBAAS,IAA/B,mBAAKlB,EAAL,KAAWqB,EAAX,KACA,EAAsBH,mBAAS,GAA/B,mBAAKI,EAAL,KAAWC,EAAX,KACMC,EAAO,2DACPC,EAAS,iDAA6CH,EAA7C,gBACTI,EAAQ,iDAA6CpB,EAA7C,6BAAwEgB,GAEhFZ,EAAM,uCAAG,WAAOiB,GAAP,iBAAAC,EAAA,sEACSC,MAAMF,EAAK,CAC/BG,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChBC,cAAeR,KALN,cACTS,EADS,gBAQUA,EAAUC,OARpB,OAQTC,EARS,OASbd,EAAQc,EAAWC,QATN,2CAAH,sDAWNC,EAAQ,uCAAG,WAAOV,GAAP,iBAAAC,EAAA,sEACOC,MAAMF,EAAK,CAC/BG,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChBC,cAAeR,KALJ,cACXS,EADW,gBAQQA,EAAUC,OARlB,OAQXC,EARW,OASfd,EAAQrB,EAAKsC,OAAOH,EAAWC,SAThB,2CAAH,sDAgCd,OApBAG,qBAAU,WACRhB,EAAQ,GAENb,EADa,KAAXJ,EACKmB,EAEAC,KAGR,CAACpB,IACJiC,qBAAU,WACK,IAATjB,GAEAe,EADa,KAAX/B,EACOmB,EAEAC,KAIZ,CAACJ,IAGF,sBAAKkB,MAAO,CAAEC,UAAW,SAAzB,UACE,cAAC,EAAD,CACE/B,OAAQ,WACNU,EAAUD,IAEZA,MAAOA,EACPR,SAAUA,IAEZ,qBAAKV,UAAU,WAAf,SACGD,GACCA,EAAK0C,KAAI,SAACC,GACR,OAAO,cAAC,EAAD,CAAS3C,KAAM2C,GAAQC,oBAGpC,qBAAK3C,UAAU,WAAf,SACE,wBACEe,QAAS,WACPO,EAAQD,EAAO,IAFnB,4CCtDOuB,EAjBD,WACZ,OACE,qBACEL,MAAO,CACLC,UAAW,QACXK,QAAS,OACTC,eAAgB,SAChBC,WAAY,UALhB,SAQE,oBAAIR,MAAO,CAAES,MAAO,SAApB,iH,OCaSC,G,MAjBH,WACV,OACE,gCACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,IAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,SAAZ,SACE,cAAC,EAAD,SAGJ,cAAC,EAAD,SCfNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,cAAc,Y","file":"static/js/main.908b9f9c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Nav = () => {\r\n  return (\r\n    <nav>\r\n      <ul>\r\n        <li>\r\n          <Link to=\"/\">首頁</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/about\">關於</Link>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import React from \"react\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer>\r\n      <p>Copyright © 2021 KAI</p>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nconst Picture = ({ data }) => {\r\n  return (\r\n    <div className=\"picture\">\r\n      <p>{data.photographer}</p>\r\n      <div className=\"imgContainer\">\r\n        <img src={data.src.large} alt=\"\" />\r\n      </div>\r\n      <a target=\"_blank\" rel=\"noreferrer\" href={data.src.large}>\r\n        下載圖片\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Picture;\r\n","import React from \"react\";\r\n\r\nconst Search = ({ search, setInput }) => {\r\n  const getInput = (e) => {\r\n    setInput(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"search\">\r\n      <input onChange={getInput} type=\"text\" />\r\n      <button onClick={search}>搜圖</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Picture from \"../components/Picture\";\r\nimport Search from \"../components/Search\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst Homepage = () => {\r\n  let [input, setInput] = useState(\"\");\r\n  let [target, setTarget] = useState(\"\");\r\n  let [data, setData] = useState([]);\r\n  let [page, setPage] = useState(1);\r\n  const auth = \"563492ad6f917000010000010c1cd66275e44e3181d0a33ddfb7a781\";\r\n  const intailUrl = `https://api.pexels.com/v1/curated?page=${page}&per_page=15`;\r\n  const queryUrl = `https://api.pexels.com/v1/search?query=${target}&per_page=15&page=${page}`;\r\n\r\n  const search = async (url) => {\r\n    let dataFetch = await fetch(url, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n        Authorization: auth,\r\n      },\r\n    });\r\n    let parsedData = await dataFetch.json();\r\n    setData(parsedData.photos);\r\n  };\r\n  const loadmore = async (url) => {\r\n    let dataFetch = await fetch(url, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n        Authorization: auth,\r\n      },\r\n    });\r\n    let parsedData = await dataFetch.json();\r\n    setData(data.concat(parsedData.photos));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setPage(1);\r\n    if (target === \"\") {\r\n      search(intailUrl);\r\n    } else {\r\n      search(queryUrl);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [target]);\r\n  useEffect(() => {\r\n    if (page !== 1) {\r\n      if (target === \"\") {\r\n        loadmore(intailUrl);\r\n      } else {\r\n        loadmore(queryUrl);\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page]);\r\n\r\n  return (\r\n    <div style={{ minHeight: \"100vh\" }}>\r\n      <Search\r\n        search={() => {\r\n          setTarget(input);\r\n        }}\r\n        input={input}\r\n        setInput={setInput}\r\n      />\r\n      <div className=\"pictures\">\r\n        {data &&\r\n          data.map((d) => {\r\n            return <Picture data={d} key={uuidv4()} />;\r\n          })}\r\n      </div>\r\n      <div className=\"loadMore\">\r\n        <button\r\n          onClick={() => {\r\n            setPage(page + 1);\r\n          }}\r\n        >\r\n          載入更多\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n","import React from \"react\";\r\n\r\nconst About = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        minHeight: \"100vh\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <h1 style={{ color: \"white\" }}>\r\n        練習作品:串接Pexels api 做出搜尋圖片功能\r\n      </h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default About;\r\n","import React from \"react\";\nimport Nav from \"./components/Nav\";\nimport Footer from \"./components/Footer\";\nimport Homepage from \"./pages/Homepage\";\nimport About from \"./pages/About\";\nimport { Switch, Route } from \"react-router-dom\";\nimport \"./styles/style.css\";\n\nconst App = () => {\n  return (\n    <div>\n      <Nav />\n      <Switch>\n        <Route path=\"/\">\n          <Homepage />\n        </Route>\n        <Route path=\"/about\">\n          <About />\n        </Route>\n      </Switch>\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDom from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDom.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}